# Серверная часть проекта MoviesExplorer

---

В данном репозитории расположена серверная часть проекта. Хранение данных выполнено используя 	документоориентированную СУБД "MongoDB".


Реализована схемы и модели для двух сущностей - пользователей и сохранённых фильмов (users и movies). 

### Созданы роуты и контроллеры, в API имеется 5 роутов: 
- *возвращает информацию о пользователе (email и имя)* <br/>
  GET /users/me

- *обновляет информацию о пользователе (email и имя)* <br/>
  PATCH /users/me

- *возвращает все сохранённые текущим  пользователем фильмы* <br/>
  GET /movies

- *создаёт фильм с переданными в теле
  country, director, duration, year, description, image, trailer, nameRU, nameEN и thumbnail, movieId* <br/>
  POST /movies

- *удаляет сохранённый фильм по id* <br/>
  DELETE /movies/_id

### Реализована аутентификация и авторизация
В API предусмотрены два дополнительных роута для регистрации и логина:
- *создаёт пользователя с переданными в теле email, password и name* <br/>
  POST /signup
- *проверяет переданные в теле почту и пароль и возвращает JWT* <br/>
  POST /signin 

### Настроены два файла для хранения логов:
- request.log, чтобы хранить информацию о всех запросах к API;
- error.log, чтобы хранить информацию об ошибках, которые возвращает API.

### .env
На сервере создан .env файл, в котором хрянятся:
- JWT_SECRET с секретным ключом для создания и верификации JWT;
- MONGODB_ADDRESS с адресом к базе данных MongoDB

Все запросы на авторизацию, регистрацию и проверку токена работают через собственный сервер, расположенный по адресу: `https://api.manofilmai.nomoredomains.rocks` (IP 51.250.7.186).
